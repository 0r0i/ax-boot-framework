export PHASE="{{ phase }}"
GC_OPTS="-Xms{{ Xms }} -Xmx{{ Xmx }} -XX:+UseG1GC -XX:+DisableExplicitGC"
JAVA_OPTS="-Dserver.name={{ app_name_1}} -Djava.awt.headless=true -Dfile.encoding=UTF-8 -server $GC_OPTS -Dnetworkaddress.cache.ttl=0 -Dnetworkaddress.cache.negative.ttl=0 -Dorg.apache.catalina.security.SecurityListener.UMASK=0007 -Djava.security.egd=file:/dev/./urandom"
{% if phase == "production" %}
JAVA_OPTS="$JAVA_OPTS -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port={{ jmx_port + 1}} -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false"
{% endif %}
export JAVA_OPTS="$JAVA_OPTS"

export CATALINA_OPTS="$CATALINA_OPTS -Dspring.profiles.active=$PHASE"
export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/usr/local/tomcat/lib"
